<!-- https://materializecss.com/grid.html -->

<div class="container">
  <h1>Projects</h1>

  <blockquote>
    Click on the project name for more details! Click on
    <i class="material-icons tiny">sort</i>
    to sort by that column, or items in
    <i class="material-icons tiny">filter_list</i>
    columns to filter by that item.
  </blockquote>
  <div class="row">
    <div class="col l3 s12">
      <i class="left material-icons">sort</i>Sorted by: Type
    </div>
    <div class="col l3 offset-l6">
      <!-- Position differently (left) for mobile -->
      <div class="right hide-on-small-only">
        <i class="left material-icons">filter_list</i>Filter: None
      </div>
      <div class="left hide-on-med-and-up">
        <i class="left material-icons">filter_list</i>Filter: None
      </div>
    </div>
  </div>

  <!-- https://materializecss.com/table.html -->
  <table class="highlight responsive-table">
    <thead>
      <tr>
        <!-- USER ONLY-->
        <th>
          <i class="material-icons">star</i>
          <a href="?sort=starred"><i class="material-icons">sort</i></a>
        </th>
        <th>Project</th>
        <th>Team Members</th>
        <th>
          Type
          <a href="?sort=type"><i class="material-icons">sort</i></a>
          <i class="material-icons">filter_list</i>
        </th>
        <th>Language</th>
        <th>
          Session
          <a href="?sort=session"><i class="material-icons">sort</i></a>
          <i class="material-icons">filter_list</i>
        </th>
        <th>
          Location
          <a href="?sort=location"><i class="material-icons">sort</i></a>
          <i class="material-icons">filter_list</i>
        </th>
        <!-- ADMIN ONLY BUTTONS -->
        <th>Admin Op</th>
      </tr>
    </thead>

    <tbody>
      {{#each projects}}
        <tr>
          <!-- USER ONLY - Initialize page with appropriate state of button -->
          <td>
            <a
              onclick='toggleInterest(this, "{{project_id}}")'
              class="btn-floating btn-small waves-effect waves-light scale-transition scale-in blue"
            ><i class="material-icons">star_border</i></a>
          </td>
          <td
            class="blue-text clickable"
            onclick="location.href='/projects/{{project_id}}'"
          >
            {{project_name}}
          </td>
          <td>{{project_team}}</td>
          <td><a href="?filter=type:{{project_type}}">{{project_type}}</a></td>
          <td>{{project_language}}</td>
          <td><a href="?filter=session:{{project_session}}">Session
              {{project_session}}</a></td>
          <td><a
              href="?filter=location:{{project_location}}"
            >{{project_location}}</a></td>
          <!-- ADMIN ONLY BUTTONS -->
          <td nowrap>
            <a
              class="btn-floating btn-small waves-effect waves-light green lighten-1"
              href="/projects/{{project_id}}/modify"
            ><i class="material-icons">edit</i></a>
            <a
              class="btn-floating waves-effect waves-light red"
              onclick='confirmDelete("{{project_name}}","{{project_id}}", ".")'
            ><i class="material-icons">delete</i></a>
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</div>

<a
  href="/projects/create"
  class="btn-floating btn-large orange fixed-action-btn"
>
  <i class="large material-icons">create</i>
</a>